apt-get update && apt-get dist-upgrade
apt-get install python g++ make libssl-dev checkinstall
cd /tmp && mkdir -p ./nodejs && cd $_
wget http://nodejs.org/dist/node-latest.tar.gz && tar -xzvf node-latest.tar.gz && cd node-v*
./configure

# вариант 1, надо в версии (3) в диалоге заменить версию, убрать v (пример v0.10 -> 0.10)
checkinstall
sudo dpkg -i node_*

# вариант 2 (основной)
make && make install

# поставим npm
cd /tmp/nodejs && wget https://npmjs.org/install.sh && sh ./install.sh
# npm -g install connect
# -g - для глобальной установки пакетов
# по умолчанию все пакеты с ключем -g ставятся в /usr/local (значение prefix)
# все настройки можно глянуть "npm config ls -l" что то изменить "npm config set prefix /usr/local"
# вариант решения проблемы:
# echo 'export NODE_PATH="'$(npm root -g)'"' >> ~/.bash_profile && . ~/.bash_profile
echo -e 'export NODE_PATH="'$(npm root -g)'"\n' > /etc/profile.d/node.sh && chmod +x /etc/profile.d/node.sh && /etc/profile.d/node.sh
# но надо запускать от пользователя от которого будет работать нода

npm -g install hiredis redis
npm -g install mysql cookie express request

# websocket - нужно )
npm -g install ws

# express 3->4 развалился... его части
npm -g install cookie-parser body-parser

# Socket.IO (если нужно)
npm -g install socket.io

# демонизация модуль forever (нужно)
npm -g install forever
# forever start app.js
# forever stop app.js
# forever restart app.js

